
<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Megan üíêüíò</title>

<style>
  :root{
    --pink:#ff3d8d;
    --rose:#ff7eb3;
    --deep:#b31251;
    --card: rgba(255,255,255,.88);
    --shadow: 0 30px 120px rgba(255,61,141,.35);
    --r: 30px;
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }

  body{
    margin:0;
    height:100vh;
    display:grid;
    place-items:center;
    overflow:hidden;
    color:#2b0f1d;
    background:
      radial-gradient(circle at 18% 12%, rgba(255, 90, 170, .55), transparent 55%),
      radial-gradient(circle at 82% 18%, rgba(255, 160, 205, .55), transparent 55%),
      radial-gradient(circle at 50% 90%, rgba(255, 210, 235, .70), transparent 60%),
      linear-gradient(180deg, #ffcae2, #fff0f7 60%, #ffffff);
    font-family: Georgia, "Times New Roman", serif;
  }

  /* Floating background flowers/hearts */
  .bgFloat{
    position:fixed; inset:0;
    pointer-events:none;
    overflow:hidden;
    opacity:.75;
    filter: drop-shadow(0 14px 22px rgba(255,61,141,.18));
  }
  .bgFloat span{
    position:absolute;
    font-size: 18px;
    opacity:0;
    animation: drift linear infinite;
  }
  @keyframes drift{
    0%   { transform: translateY(30px) translateX(0) scale(.95); opacity:0; }
    12%  { opacity:.65; }
    85%  { opacity:.65; }
    100% { transform: translateY(-120vh) translateX(40px) scale(1.15); opacity:0; }
  }

  .card{
    width:min(900px, 92vw);
    background: var(--card);
    border-radius: var(--r);
    padding: 38px 28px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(14px);
    text-align:center;
    position:relative;
    overflow:hidden;
    border: 1px solid rgba(255,255,255,.9);
  }

  h1{
    margin:0 0 10px;
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(42px, 5.5vw, 74px);
    letter-spacing:.5px;
    color: var(--deep);
  }

  p{
    margin:0 0 16px;
    font-size: 18px;
    opacity:.90;
    line-height:1.7;
  }

  .question{
    margin-top: 14px;
    padding: 18px 18px;
    border-radius: 24px;
    background: linear-gradient(135deg, rgba(255,126,179,.22), rgba(255,61,141,.14));
    border: 1px solid rgba(255,61,141,.16);
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(28px, 3.8vw, 38px);
    color: #b31251;
  }

  .row{
    margin-top: 26px;
    display:flex;
    justify-content:center;
    gap:14px;
    flex-wrap:wrap;
    position:relative;
  }

  button{
    border:0;
    border-radius:999px;
    padding: 14px 28px;
    font-weight: 950;
    font-size:16px;
    cursor:pointer;
    user-select:none;
    transition: transform .16s ease, filter .16s ease, box-shadow .16s ease;
    min-width: 180px;
  }

  #yes{
    background: linear-gradient(135deg, var(--pink), var(--rose));
    color:white;
    box-shadow: 0 18px 46px rgba(255,61,141,.52);
    animation: yesGlow 2.2s ease-in-out infinite;
  }
  @keyframes yesGlow{
    0%,100%{ filter: brightness(1); transform: translateY(0); }
    50%{ filter: brightness(1.06); transform: translateY(-1px); }
  }
  #yes:hover{ transform: translateY(-2px) scale(1.03); }
  #yes:active{ transform: translateY(0) scale(.99); }

  #no{
    background:white;
    color: var(--pink);
    border: 2px solid rgba(255,61,141,.32);
    box-shadow: 0 14px 26px rgba(0,0,0,.06);
  }

  /* Shared rain */
  .rain{
    position:absolute; inset:0;
    pointer-events:none;
    overflow:hidden;
  }
  .rain i{
    position:absolute;
    font-style:normal;
    opacity:0;
    animation: fall linear forwards;
    filter: drop-shadow(0 12px 18px rgba(0,0,0,.20));
    will-change: transform, opacity;
  }
  @keyframes fall{
    0%{ transform: translateY(-12vh) translateX(0) rotate(0deg) scale(.95); opacity:0; }
    10%{ opacity:1; }
    90%{ opacity:1; }
    100%{ transform: translateY(112vh) translateX(var(--dx)) rotate(var(--rot)) scale(1.15); opacity:0; }
  }

  /* YES overlay (surprise) */
  .overlay{
    position:fixed; inset:0;
    display:none;
    place-items:center;
    z-index: 99;
    overflow:hidden;
    background:
      radial-gradient(circle at 50% 25%, rgba(255,126,179,.72), rgba(255,61,141,.86)),
      linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.60));
    backdrop-filter: blur(16px);
  }
  .overlay.show{ display:grid; }

  .flash{
    position:absolute; inset:0;
    background: rgba(255,255,255,.92);
    opacity:0;
    pointer-events:none;
  }
  .overlay.show .flash{ animation: flash 520ms ease; }
  @keyframes flash{
    0%{ opacity:0; }
    25%{ opacity:1; }
    100%{ opacity:0; }
  }

  .overlayCard{
    width:min(1040px, 94vw);
    background: rgba(255,255,255,.93);
    border-radius: 36px;
    padding: clamp(18px, 3.5vw, 34px);
    text-align:center;
    box-shadow: 0 50px 170px rgba(0,0,0,.28);
    border: 1px solid rgba(255,255,255,.82);
    position:relative;
    overflow:hidden;
    transform: translateY(18px) scale(.92);
    opacity:0;
  }
  .overlay.show .overlayCard{
    animation: popIn 760ms cubic-bezier(.18,.95,.2,1) forwards;
  }
  @keyframes popIn{
    0%{ transform: translateY(18px) scale(.92); opacity:0; }
    60%{ transform: translateY(0) scale(1.02); opacity:1; }
    100%{ transform: translateY(0) scale(1); opacity:1; }
  }

  .cheer{
    margin:0 0 10px;
    font-weight: 950;
    opacity:.82;
    letter-spacing:.3px;
  }

  .love{
    margin:0;
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(58px, 7.2vw, 110px);
    line-height:.92;
    color: var(--deep);
    text-shadow: 0 18px 70px rgba(255,61,141,.18);
  }

  .msg{
    margin: 12px auto 0;
    max-width: 74ch;
    font-size: 18px;
    opacity:.94;
    line-height:1.75;
  }

  /* BIG HERO IMAGE (blown up) */
  .heroWrap{
    width: 100%;
    margin: 18px auto 12px;
    display:flex;
    justify-content:center;
  }
  .heroPic{
    width: 100%;
    max-width: 980px;
    height: min(70vh, 560px);
    object-fit: cover;
    border-radius: 28px;
    border: 1px solid rgba(255,61,141,.25);
    box-shadow:
      0 30px 80px rgba(0,0,0,.25),
      0 0 0 6px rgba(255,255,255,.22);
    animation: heroPop 900ms cubic-bezier(.18,.9,.2,1);
  }
  @keyframes heroPop{
    0%{ transform: scale(.94); opacity:0; }
    60%{ transform: scale(1.02); opacity:1; }
    100%{ transform: scale(1); opacity:1; }
  }
  @media (max-width: 700px){
    .heroPic{ height: 52vh; border-radius: 22px; }
  }

  .actions{
    margin-top: 16px;
    display:flex;
    justify-content:center;
    gap:10px;
    flex-wrap:wrap;
  }
  .ghost{
    background: rgba(255,255,255,.74);
    border: 1px solid rgba(0,0,0,.12);
    color: rgba(0,0,0,.85);
    box-shadow: 0 12px 20px rgba(0,0,0,.08);
  }

  /* NO overlay (black + smooth transition + crying + rain) */
  .noOverlay{
    position:fixed; inset:0;
    display:none;
    place-items:center;
    z-index: 120;
    background: #000;
    opacity: 0;
    transition: opacity 520ms ease;
    overflow:hidden;
  }
  .noOverlay.show{ display:grid; opacity: 1; }

  .noBox{
    width:min(820px, 92vw);
    text-align:center;
    color:#fff;
    padding: 26px 18px;
    position:relative;
    z-index: 2;
  }
  .noBox h2{
    margin: 12px 0 8px;
    font-size: clamp(24px, 3.5vw, 34px);
    letter-spacing: .2px;
  }
  .noBox p{
    margin:0;
    opacity:.85;
    font-size: 16px;
  }

  @media (prefers-reduced-motion: reduce){
    .bgFloat span, .rain i{ animation:none !important; }
    #yes{ animation:none !important; }
    .noOverlay{ transition:none !important; }
  }
</style>
</head>

<body>
  <div class="bgFloat" id="bgFloat" aria-hidden="true"></div>

  <main class="card">
    <h1>Hey Megan üíå</h1>
    <p>I didn‚Äôt want this to be basic‚Ä¶ I wanted it to feel like a real moment for you.</p>

    <div class="question">Will you be my Valentine this year? üíêüíï</div>

    <div class="row" id="row">
      <button id="yes" onclick="onYes()">Yes üíñ</button>
      <button id="no" onclick="onNo()">No üôÉ</button>
    </div>
  </main>

  <!-- YES overlay -->
  <section class="overlay" id="yesOverlay" onclick="yesOverlayClick(event)" aria-modal="true" role="dialog">
    <div class="flash"></div>
    <div class="rain" id="yesRain" aria-hidden="true"></div>

    <div class="overlayCard">
      <p class="cheer">SHE SAID YES!!! ü•≥üíêüéâ</p>
      <h2 class="love">I LOVE YOU</h2>

      <!-- BIG IMAGE THAT WORKS -->
      <div class="heroWrap">
        <img src="images/2.jpeg" class="heroPic" alt="Megan">
      </div>

      <p class="msg">
        Megan‚Ä¶ you are the most beautiful and important girl in the world to me.
        <br><br>
        You‚Äôre strong in a way that inspires me ‚Äî the way you keep going, the way you carry yourself,
        the way you show up even when things get hard. You have a heart that‚Äôs rare, and a presence that‚Äôs unforgettable.
        <br><br>
        You don‚Äôt just make days better‚Ä¶ you light up the whole world around you.
        Being with you feels like peace, like home, like something I never want to lose.
        I love you more than you know ‚Äî and I‚Äôm proud to choose you, every single time. üíó
      </p>

      <div class="actions">
        <button onclick="moreYesRain()">More hearts & flowers üíûüíê</button>
        <button class="ghost" onclick="closeYes()">Close</button>
      </div>
    </div>
  </section>

  <!-- NO overlay -->
  <section class="noOverlay" id="noOverlay">
    <div class="rain" id="noRain" aria-hidden="true"></div>

    <div class="noBox">
      <!-- crying image inline -->
      <svg width="140" height="140" viewBox="0 0 140 140" aria-label="crying face" role="img">
        <defs>
          <radialGradient id="g" cx="35%" cy="30%" r="70%">
            <stop offset="0%" stop-color="#ffe8a6"/>
            <stop offset="100%" stop-color="#ffc857"/>
          </radialGradient>
        </defs>
        <circle cx="70" cy="70" r="56" fill="url(#g)"/>
        <circle cx="50" cy="60" r="6" fill="#1a1a1a"/>
        <circle cx="90" cy="60" r="6" fill="#1a1a1a"/>
        <path d="M45 92 Q70 78 95 92" fill="none" stroke="#1a1a1a" stroke-width="6" stroke-linecap="round"/>
        <path d="M42 70 Q38 82 45 92 Q52 82 48 70" fill="#4aa3ff" opacity="0.9"/>
        <path d="M98 70 Q94 82 101 92 Q108 82 104 70" fill="#4aa3ff" opacity="0.9"/>
      </svg>

      <h2>Are you fricking kidding me<br>this is not an option.</h2>
      <p>Try again. üò≠</p>

      <div style="margin-top:16px;">
        <button class="ghost" onclick="closeNo()">Back</button>
      </div>
    </div>
  </section>

<script>
  // Floating background
  const bgFloat = document.getElementById("bgFloat");
  const BG_EMOJIS = ["üå∏","üåπ","üíê","üå∑","üíï","üíñ","‚ú®"];
  (function seedBG(){
    const count = 22;
    bgFloat.innerHTML = "";
    for(let i=0;i<count;i++){
      const s = document.createElement("span");
      s.textContent = BG_EMOJIS[Math.floor(Math.random()*BG_EMOJIS.length)];
      s.style.left = (Math.random()*100) + "vw";
      s.style.bottom = (-10 - Math.random()*35) + "vh";
      s.style.fontSize = (16 + Math.random()*18) + "px";
      s.style.animationDuration = (10 + Math.random()*16) + "s";
      s.style.animationDelay = (Math.random()*10) + "s";
      bgFloat.appendChild(s);
    }
  })();

  // Buttons / overlays
  const row = document.getElementById("row");
  const noBtn = document.getElementById("no");
  const yesOverlay = document.getElementById("yesOverlay");
  const noOverlay = document.getElementById("noOverlay");

  // NO logic: dodge 4 times, 5th opens black screen
  let noTries = 0;

  function dodgeNo(){
    const rowRect = row.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const pad = 8;
    const maxX = Math.max(pad, rowRect.width - btnRect.width - pad);

    let x = pad + Math.random() * maxX;

    // avoid left side
    const avoidLeft = rowRect.width * 0.46;
    if(x < avoidLeft) x = avoidLeft + (Math.random() * (rowRect.width - avoidLeft - btnRect.width - pad));

    const shift = x - (rowRect.width/2 + btnRect.width/2);
    noBtn.style.transform = `translateX(${shift}px)`;

    noBtn.animate(
      [
        { transform: noBtn.style.transform },
        { transform: noBtn.style.transform + " rotate(-2deg)" },
        { transform: noBtn.style.transform + " rotate(2deg)" },
        { transform: noBtn.style.transform }
      ],
      { duration: 280, easing: "ease-out" }
    );
  }

  function onNo(){
    noTries++;
    if(noTries < 5){
      dodgeNo();
      return;
    }
    showNo();
  }

  // Rain engines
  const yesRain = document.getElementById("yesRain");
  const noRain  = document.getElementById("noRain");

  const YES_SET = ["üíñ","üíò","üíï","üíù","‚ú®","üåπ","üå∏","üíê","üå∑"];
  const NO_SET  = ["üíß","üíß","üíß","üò≠","üñ§","ü•Ä","üåßÔ∏è"];

  let yesTimer = null;
  let noTimer = null;

  function spawn(rainEl, set){
    const i = document.createElement("i");
    i.textContent = set[Math.floor(Math.random()*set.length)];
    const left = Math.random()*100;
    const dur  = 2.2 + Math.random()*3.0;
    const size = 16 + Math.random()*30;

    i.style.left = left + "vw";
    i.style.top = "-12vh";
    i.style.fontSize = size + "px";
    i.style.setProperty("--dx", (Math.random()*70 - 35) + "vw");
    i.style.setProperty("--rot", (Math.random()*180 - 90) + "deg");
    i.style.animationDuration = dur + "s";

    rainEl.appendChild(i);
    setTimeout(()=> i.remove(), dur*1000 + 450);
  }

  function startYesRain(ms=7000){
    stopYesRain();
    const start = performance.now();
    yesTimer = setInterval(() => {
      spawn(yesRain, YES_SET);
      spawn(yesRain, YES_SET);
      if(Math.random() < 0.35) spawn(yesRain, YES_SET);
      if(performance.now() - start > ms) stopYesRain();
    }, 80);
  }
  function stopYesRain(){
    if(yesTimer) clearInterval(yesTimer);
    yesTimer = null;
  }

  function startNoRain(ms=6500){
    stopNoRain();
    const start = performance.now();
    noTimer = setInterval(() => {
      spawn(noRain, NO_SET);
      if(Math.random() < 0.55) spawn(noRain, NO_SET);
      if(performance.now() - start > ms) stopNoRain();
    }, 95);
  }
  function stopNoRain(){
    if(noTimer) clearInterval(noTimer);
    noTimer = null;
  }

  // YES actions
  function onYes(){
    yesOverlay.classList.add("show");
    // big surprise burst
    for(let k=0;k<55;k++) spawn(yesRain, YES_SET);
    startYesRain(7500);
  }

  function moreYesRain(){
    for(let k=0;k<22;k++) spawn(yesRain, YES_SET);
    startYesRain(5200);
  }

  function closeYes(){
    yesOverlay.classList.remove("show");
    stopYesRain();
    yesRain.innerHTML = "";
  }

  function yesOverlayClick(e){
    if(e.target === yesOverlay) closeYes();
  }

  // NO actions
  function showNo(){
    noOverlay.classList.add("show");
    // sadness burst + rain
    for(let k=0;k<30;k++) spawn(noRain, NO_SET);
    startNoRain(7500);
  }

  function closeNo(){
    noOverlay.classList.remove("show");
    stopNoRain();
    noRain.innerHTML = "";
  }

  // ESC closes overlays
  window.addEventListener("keydown", (e) => {
    if(e.key === "Escape"){
      if(yesOverlay.classList.contains("show")) closeYes();
      if(noOverlay.classList.contains("show")) closeNo();
    }
  });
</script>
</body>
</html>
