<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Megan üíêüíò</title>

<style>
  :root{
    --pink:#ff3d8d;
    --rose:#ff7eb3;
    --deep:#c2185b;
    --card: rgba(255,255,255,.86);
    --shadow: 0 30px 120px rgba(255,61,141,.35);
    --r: 30px;
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }

  body{
    margin:0;
    height:100vh;
    display:grid;
    place-items:center;
    overflow:hidden;
    color:#2b0f1d;

    /* more color */
    background:
      radial-gradient(circle at 18% 12%, rgba(255, 90, 170, .55), transparent 55%),
      radial-gradient(circle at 82% 18%, rgba(255, 160, 205, .55), transparent 55%),
      radial-gradient(circle at 50% 90%, rgba(255, 210, 235, .70), transparent 60%),
      linear-gradient(180deg, #ffcae2, #fff0f7 60%, #ffffff);

    font-family: Georgia, "Times New Roman", serif;
  }

  /* Floating background flowers/hearts */
  .bgFloat{
    position:fixed; inset:0;
    pointer-events:none;
    overflow:hidden;
    opacity:.75;
    filter: drop-shadow(0 14px 22px rgba(255,61,141,.18));
  }
  .bgFloat span{
    position:absolute;
    font-size: 18px;
    opacity:0;
    animation: drift linear infinite;
  }
  @keyframes drift{
    0%   { transform: translateY(30px) translateX(0) scale(.95); opacity:0; }
    12%  { opacity:.65; }
    85%  { opacity:.65; }
    100% { transform: translateY(-120vh) translateX(40px) scale(1.15); opacity:0; }
  }

  .card{
    width:min(820px, 92vw);
    background: var(--card);
    border-radius: var(--r);
    padding: 38px 28px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(14px);
    text-align:center;
    position:relative;
    overflow:hidden;
    border: 1px solid rgba(255,255,255,.88);
  }

  /* Romantic font for titles */
  h1{
    margin:0 0 10px;
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(42px, 5.5vw, 74px);
    letter-spacing:.5px;
    color: var(--deep);
  }

  p{
    margin:0 0 16px;
    font-size: 18px;
    opacity:.84;
    line-height:1.6;
  }

  .question{
    margin-top: 14px;
    padding: 18px 18px;
    border-radius: 24px;
    background: linear-gradient(135deg, rgba(255,126,179,.20), rgba(255,61,141,.13));
    border: 1px solid rgba(255,61,141,.16);
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(28px, 3.8vw, 38px);
    color: #b31251;
  }

  .row{
    margin-top: 26px;
    display:flex;
    justify-content:center;
    gap:14px;
    flex-wrap:wrap;
    position:relative;
  }

  button{
    border:0;
    border-radius:999px;
    padding: 14px 28px;
    font-weight: 800;
    font-size:16px;
    cursor:pointer;
    user-select:none;
    transition: transform .16s ease, filter .16s ease;
    min-width: 180px;
  }

  #yes{
    background: linear-gradient(135deg, var(--pink), var(--rose));
    color:white;
    box-shadow: 0 18px 46px rgba(255,61,141,.48);
    animation: yesGlow 2.2s ease-in-out infinite;
  }
  @keyframes yesGlow{
    0%,100%{ filter: brightness(1); transform: translateY(0); }
    50%{ filter: brightness(1.05); transform: translateY(-1px); }
  }
  #yes:hover{ transform: translateY(-2px) scale(1.03); }
  #yes:active{ transform: translateY(0) scale(.99); }

  #no{
    background:white;
    color: var(--pink);
    border: 2px solid rgba(255,61,141,.32);
    box-shadow: 0 14px 26px rgba(0,0,0,.06);
  }

  /* message for NO after 5 tries */
  .noMsg{
    margin-top: 14px;
    min-height: 30px;
    font-weight: 800;
    color: #8c0f3d;
    opacity: 0;
    transform: translateY(6px);
    transition: opacity .25s ease, transform .25s ease;
  }
  .noMsg.show{
    opacity: 1;
    transform: translateY(0);
  }

  /* Surprise overlay */
  .overlay{
    position:fixed; inset:0;
    display:none;
    place-items:center;
    z-index: 99;
    overflow:hidden;

    background:
      radial-gradient(circle at 50% 25%, rgba(255,126,179,.65), rgba(255,61,141,.75)),
      linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.6));
    backdrop-filter: blur(16px);
  }
  .overlay.show{ display:grid; }

  /* flash for surprise */
  .flash{
    position:absolute; inset:0;
    background: rgba(255,255,255,.85);
    opacity:0;
    pointer-events:none;
  }
  .overlay.show .flash{
    animation: flash 480ms ease;
  }
  @keyframes flash{
    0%{ opacity:0; }
    25%{ opacity:1; }
    100%{ opacity:0; }
  }

  .overlayCard{
    width:min(860px, 92vw);
    background: rgba(255,255,255,.92);
    border-radius: 36px;
    padding: 42px 30px;
    text-align:center;
    box-shadow: 0 50px 170px rgba(0,0,0,.28);
    border: 1px solid rgba(255,255,255,.8);
    position:relative;
    overflow:hidden;

    transform: translateY(18px) scale(.92);
    opacity:0;
  }
  .overlay.show .overlayCard{
    animation: popIn 720ms cubic-bezier(.18,.95,.2,1) forwards;
  }
  @keyframes popIn{
    0%{ transform: translateY(18px) scale(.92); opacity:0; }
    60%{ transform: translateY(0) scale(1.02); opacity:1; }
    100%{ transform: translateY(0) scale(1); opacity:1; }
  }

  .cheer{
    margin:0 0 10px;
    font-weight: 900;
    opacity:.78;
    letter-spacing:.3px;
  }

  .love{
    margin:0;
    font-family: "Brush Script MT", "Segoe Script", cursive;
    font-size: clamp(56px, 7vw, 102px);
    line-height:.92;
    color: var(--deep);
    text-shadow: 0 18px 70px rgba(255,61,141,.18);
  }

  .msg{
    margin: 10px auto 0;
    max-width: 62ch;
    font-size: 18px;
    opacity:.84;
    line-height:1.65;
  }

  .actions{
    margin-top: 18px;
    display:flex;
    justify-content:center;
    gap:10px;
    flex-wrap:wrap;
  }
  .ghost{
    background: rgba(255,255,255,.74);
    border: 1px solid rgba(0,0,0,.12);
    color: rgba(0,0,0,.85);
    box-shadow: 0 12px 20px rgba(0,0,0,.08);
  }

  /* hearts + flowers rain */
  .rain{
    position:absolute; inset:0;
    pointer-events:none;
    overflow:hidden;
  }
  .rain i{
    position:absolute;
    font-style:normal;
    opacity:0;
    animation: fall linear forwards;
    filter: drop-shadow(0 12px 18px rgba(255,61,141,.22));
    will-change: transform, opacity;
  }
  @keyframes fall{
    0%{ transform: translateY(-12vh) translateX(0) rotate(0deg) scale(.95); opacity:0; }
    10%{ opacity:1; }
    90%{ opacity:1; }
    100%{ transform: translateY(112vh) translateX(var(--dx)) rotate(var(--rot)) scale(1.18); opacity:0; }
  }

  @media (prefers-reduced-motion: reduce){
    .bgFloat span, .rain i{ animation:none !important; }
    #yes{ animation:none !important; }
  }
</style>
</head>

<body>
  <div class="bgFloat" id="bgFloat" aria-hidden="true"></div>

  <main class="card">
    <h1>Hey Megan üíå</h1>
    <p>I didn‚Äôt want to just text you‚Ä¶ I wanted it to feel like a moment.</p>

    <div class="question">Will you be my Valentine this year? üíêüíï</div>

    <div class="row" id="row">
      <button id="yes" onclick="onYes()">Yes üíñ</button>
      <button id="no" onclick="onNo()">No üôÉ</button>
    </div>

    <div class="noMsg" id="noMsg"></div>
  </main>

  <section class="overlay" id="overlay" onclick="overlayClick(event)" aria-modal="true" role="dialog">
    <div class="flash"></div>
    <div class="rain" id="rain" aria-hidden="true"></div>

    <div class="overlayCard">
      <p class="cheer" id="cheer">SHE SAID YES!!! ü•≥üíêüéâ</p>
      <h2 class="love">I LOVE YOU</h2>
      <p class="msg" id="msg">
        Megan, you make my world brighter. Thank you for being you.
        I‚Äôm so lucky I get to love you. üíó
      </p>

      <div class="actions">
        <button onclick="moreRain()">More hearts & flowers üíûüíê</button>
        <button class="ghost" onclick="closeOverlay()">Close</button>
      </div>
    </div>
  </section>

<script>
  // --- Floating background flowers/hearts ---
  const bgFloat = document.getElementById("bgFloat");
  const BG_EMOJIS = ["üå∏","üåπ","üíê","üå∑","üíï","üíñ","‚ú®"];
  (function seedBG(){
    const count = 22;
    bgFloat.innerHTML = "";
    for(let i=0;i<count;i++){
      const s = document.createElement("span");
      s.textContent = BG_EMOJIS[Math.floor(Math.random()*BG_EMOJIS.length)];
      s.style.left = (Math.random()*100) + "vw";
      s.style.bottom = (-10 - Math.random()*35) + "vh";
      s.style.fontSize = (16 + Math.random()*18) + "px";
      s.style.animationDuration = (10 + Math.random()*16) + "s";
      s.style.animationDelay = (Math.random()*10) + "s";
      bgFloat.appendChild(s);
    }
  })();

  // --- NO logic: dodge 4 times, on 5th allow and show message ---
  const noBtn = document.getElementById("no");
  const row = document.getElementById("row");
  const noMsg = document.getElementById("noMsg");
  let noTries = 0;

  function dodgeNo(){
    const rowRect = row.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();

    // keep it on-screen / inside row feel
    const pad = 8;
    const maxX = Math.max(pad, rowRect.width - btnRect.width - pad);

    // push it away from the left side (where YES sits)
    let x = pad + Math.random() * maxX;
    const avoidLeft = rowRect.width * 0.44;
    if(x < avoidLeft) x = avoidLeft + (Math.random()* (rowRect.width - avoidLeft - btnRect.width - pad));

    // transform relative to its normal spot
    const shift = x - (rowRect.width/2 + btnRect.width/2); // overshoots right intentionally
    noBtn.style.transform = `translateX(${shift}px)`;

    // tiny shake for drama
    noBtn.animate(
      [
        { transform: noBtn.style.transform },
        { transform: noBtn.style.transform + " rotate(-2deg)" },
        { transform: noBtn.style.transform + " rotate(2deg)" },
        { transform: noBtn.style.transform }
      ],
      { duration: 280, easing: "ease-out" }
    );
  }

  function onNo(){
    noTries++;

    if(noTries < 5){
      dodgeNo();
      return;
    }

    // EXACTLY the 5th press: allow it + message
    noBtn.style.transform = "translateX(0px)";
    noBtn.textContent = "No üôÉ";
    noMsg.textContent = "Are you fricking kidding me this is not an option.";
    noMsg.classList.add("show");
  }

  // --- YES overlay + surprise rain ---
  const overlay = document.getElementById("overlay");
  const rain = document.getElementById("rain");
  const RAIN_EMOJIS = ["üíñ","üíò","üíï","üíù","‚ú®","üåπ","üå∏","üíê","üå∑"];
  let rainTimer = null;

  function spawnRain(){
    const i = document.createElement("i");
    i.textContent = RAIN_EMOJIS[Math.floor(Math.random()*RAIN_EMOJIS.length)];
    const left = Math.random()*100;
    const dur  = 2.4 + Math.random()*2.8;
    const size = 16 + Math.random()*30;

    i.style.left = left + "vw";
    i.style.top = "-12vh";
    i.style.fontSize = size + "px";
    i.style.setProperty("--dx", (Math.random()*70 - 35) + "vw");
    i.style.setProperty("--rot", (Math.random()*180 - 90) + "deg");
    i.style.animationDuration = dur + "s";

    rain.appendChild(i);
    setTimeout(()=> i.remove(), dur*1000 + 400);
  }

  function startRain(ms=5600){
    stopRain();
    const start = performance.now();
    rainTimer = setInterval(() => {
      spawnRain();
      spawnRain();
      if(Math.random() < 0.35) spawnRain();
      if(performance.now() - start > ms) stopRain();
    }, 80);
  }
  function stopRain(){
    if(rainTimer) clearInterval(rainTimer);
    rainTimer = null;
  }

  function onYes(){
    overlay.classList.add("show");

    // BIG surprise burst: dump a bunch immediately
    for(let k=0;k<40;k++) spawnRain();
    startRain(6200);
  }

  function moreRain(){
    for(let k=0;k<20;k++) spawnRain();
    startRain(5200);
  }

  function closeOverlay(){
    overlay.classList.remove("show");
    stopRain();
    rain.innerHTML = "";
  }

  function overlayClick(e){
    if(e.target === overlay) closeOverlay();
  }

  window.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && overlay.classList.contains("show")) closeOverlay();
  });
</script>
</body>
</html>
